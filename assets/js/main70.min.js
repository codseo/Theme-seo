jQuery(document).ready(function(e){function t(e,t){var o=setInterval(function(){if("complete"===document.readyState){clearInterval(o);var l=e;if(null==t||"success"==t)var m=mlm_local_object.notifier_icon_success;else m=mlm_local_object.notifier_icon_error;mlm_notifier.show(l,m,3e3,"bottom-left",{border:"#aaa",background:"#fff",color:"#000",radius:"4"},"")}},10)}e('[data-toggle="tooltip"]').tooltip(),e("#mlm_product_images").on("show.bs.modal",function(t){e("html").addClass("modal-open")}),e("#mlm_product_images").on("hide.bs.modal",function(t){e("html").removeClass("modal-open")}),e(".slimscroll").slimScroll({position:"true"==mlm_local_object.rtl?"left":"right",height:"100%",alwaysVisible:!0}),new ClipboardJS(".mlm-clipboard").on("success",function(e){swal({title:mlm_local_object.copied,text:mlm_local_object.shortcode_copy,icon:"success",button:mlm_local_object.ok})}),e(document).on("click","#mlm-toggle-mobile-menu",function(t){t.preventDefault(),e("#mlm-mobile-menu").toggleClass("open"),e(".mlm-header .toggle-quru").toggleClass("is-active")}),e(document).on("click",'a[href="#mlm-close-mobile-menu"]',function(t){t.preventDefault(),e("#mlm-mobile-menu").removeClass("open"),e(".mlm-header .toggle-quru").removeClass("is-active")}),e(document).on("click",function(t){e(t.target).closest(".mlm-mobile-menu").length||e(t.target).closest("#mlm-toggle-mobile-menu").length||(e("#mlm-mobile-menu").removeClass("open"),e(".mlm-header .toggle-quru").removeClass("is-active"))}),e(".mlm-drilldown").drilldown({event:"click",selector:"a",speed:500,cssClass:{container:"drilldown-container",root:"drilldown-root",sub:"drilldown-sub",back:"drilldown-back"}}),e(document).on("click",'a[href="#mlm-toggle-category-btn"]',function(t){t.preventDefault(),$parent=e(this).closest(".mlm-category-widget"),e(this).hasClass("acik")?(e(this).removeClass("acik").text(mlm_local_object.show_more),$parent.find(".col-auto.d-flex").removeClass("d-flex").addClass("d-none")):(e(this).addClass("acik").text(mlm_local_object.show_less),$parent.find(".col-auto.d-none").removeClass("d-none").addClass("d-flex"))}),e(document).on("click",'a[href="#mlm-toggle-login-form"]',function(t){t.preventDefault(),e(this).closest(".mlm-popup-form").fadeOut(10),e(".mlm-popup-login-form").fadeIn(600),e('.mlm-login-form-wrapper [name="mlm_must_return"]').val("yes"),e('.mlm-register-form-wrapper [name="mlm_must_return"]').val("yes")}),e(document).on("click",'a[href="#mlm-toggle-register-form"]',function(t){t.preventDefault(),e(this).closest(".mlm-popup-form").fadeOut(10),e(".mlm-popup-register-form").fadeIn(600),e('.mlm-login-form-wrapper [name="mlm_must_return"]').val("yes"),e('.mlm-register-form-wrapper [name="mlm_must_return"]').val("yes")}),e(document).on("click",'a[href="#mlm-toggle-password-form"]',function(t){t.preventDefault(),e(this).closest(".mlm-popup-form").fadeOut(10),e(".mlm-popup-password-form").fadeIn(600)}),e(document).on("click",'a[href="#mlm-toggle-tags"]',function(t){t.preventDefault(),$parent=e(this).closest(".mlm-post-tags"),$parent.hasClass("kapali")?($parent.removeClass("kapali"),e(this).text(mlm_local_object.show_less)):($parent.addClass("kapali"),e(this).text(mlm_local_object.show_more))}),e(document).on("click",".mlm-user-panel-widget .multi > a",function(t){t.preventDefault(),$li=e(this).closest(".multi"),$li.hasClass("acik")?($li.find(".children").slideUp(200),$li.removeClass("acik")):(e(".mlm-user-panel-widget .multi").find(".children").slideUp(200),e(".mlm-user-panel-widget .multi").removeClass("acik"),$li.find(".children").slideDown(200),$li.addClass("acik"))});new Swiper(".mlm-main-slider",{rtl:mlm_local_object.rtl,slidesPerView:1,spaceBetween:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1}}),new Swiper(".mlm-products-slider",{rtl:mlm_local_object.rtl,autoplay:{delay:1e4,disableOnInteraction:!1},breakpoints:{500:{slidesPerView:1,spaceBetween:15},991:{slidesPerView:2,spaceBetween:15},1023:{slidesPerView:3,spaceBetween:15}}}),new Swiper(".mlm-vendor-products-slider",{rtl:mlm_local_object.rtl,slidesPerView:"auto",spaceBetween:15,autoplay:{delay:1e4,disableOnInteraction:!1}}),new Swiper(".mlm-vendor-top-slider",{rtl:mlm_local_object.rtl,slidesPerView:"auto",spaceBetween:15,autoplay:{delay:1e4,disableOnInteraction:!1},centerInsufficientSlides:!0}),new Swiper(".mlm-namad-slider",{rtl:mlm_local_object.rtl,slidesPerView:1,spaceBetween:0,navigation:!1,pagination:{el:".swiper-pagination",clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1}}),new Swiper(".mlm-offers-slider",{rtl:mlm_local_object.rtl,slidesPerView:1,spaceBetween:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),e("#mlm_cat").select2({multiple:!0,placeholder:mlm_local_object.select_cat,tags:!1,tokenSeparators:[","],selectOnClose:!0}),e("#mlm_tag").select2({multiple:!0,placeholder:mlm_local_object.select_tag,tags:!0,tokenSeparators:[","],selectOnClose:!0}),e("#mlm_products").select2({multiple:!0,placeholder:mlm_local_object.select_product,tags:!1,tokenSeparators:[","],selectOnClose:!0});function o(e){e.attr("disabled","disabled").addClass("disabled").empty().append('<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span> '+mlm_local_object.loading)}function l(e,t){e.removeAttr("disabled").removeClass("disabled").empty().append(t)}function m(t){if(t.hasClass("loading"))return!1;var o={login:t.find('[name="log"]').val(),pass:t.find('[name="pwd"]').val(),return:t.find('[name="mlm_return"]').val(),must_return:t.find('[name="mlm_must_return"]').val(),remember:t.find('[name="rememberme"]:checked').val()};"object"==typeof grecaptcha&&0==t.find('[name="mlm_recaptcha"]').val().length?swal({title:mlm_local_object.error,text:mlm_local_object.re_token,icon:"error",button:mlm_local_object.ok}):0==o.login.length||0==o.pass.length?swal({title:mlm_local_object.error,text:mlm_local_object.user_pass,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_login",user_data:o,mlm_recaptcha:t.find('[name="mlm_recaptcha"]').val(),security:t.find('[name="wp-submit"]').data("verify")},beforeSend:function(e){t.addClass("loading")},complete:function(e){t.removeClass("loading")},success:function(e){1==e.registered?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}function a(t){if(t.hasClass("loading"))return!1;var o={uname:t.find('[name="mlm_uname"]').val(),email:t.find('[name="mlm_email"]').val(),mobile:t.find('[name="mlm_mobile"]').val(),country_code:t.find('[name="mlm_country_code"]').val(),pass:t.find('[name="mlm_pass"]').val(),code:t.find('[name="mlm_code"]').val(),return:t.find('[name="mlm_return"]').val(),must_return:t.find('[name="mlm_must_return"]').val()};"object"==typeof grecaptcha&&0==t.find('[name="mlm_recaptcha"]').val().length?swal({title:mlm_local_object.error,text:mlm_local_object.re_token,icon:"error",button:mlm_local_object.ok}):0==o.uname.length||0==o.mobile.length||0==o.pass.length?swal({title:mlm_local_object.error,text:mlm_local_object.all_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_register",user_data:o,mlm_recaptcha:t.find('[name="mlm_recaptcha"]').val(),security:t.find(".btn-primary").attr("data-verify")},beforeSend:function(e){t.addClass("loading")},complete:function(e){t.removeClass("loading")},success:function(e){1==e.registered?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}function n(t,o){return void 0===t&&(t=wpActiveEditor),void 0===o&&(o=t),e("#wp-"+t+"-wrap").hasClass("tmce-active")&&tinyMCE.get(t)?tinyMCE.get(t).getContent():e("#"+o).val()}function r(t,o,l){return void 0===o&&(o=wpActiveEditor),void 0===l&&(l=o),e("#wp-"+o+"-wrap").hasClass("tmce-active")&&tinyMCE.get(o)?tinyMCE.get(o).setContent(t):e("#"+l).val(t)}toastr.options={preventDuplicates:!0,positionClass:"toast-bottom-center",rtl:mlm_local_object.rtl},e(document).on("click",".mlm-new-upload-field",function(t){t.preventDefault();var o=e(".mlm-file-template").last(),l=o.clone();l.find("input.file").val(""),l.find("input.name").val(""),l.find("[name]").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(e,t){return"["+(parseInt(t,10)+1)+"]"})}),o.after(l)}),e(document).on("click",".mlm-remove-upload-btn",function(t){t.preventDefault(),e(this).closest("form").find(".mlm-file-template").length>1?e(this).closest(".mlm-file-template").fadeOut(200).remove():(e(this).closest(".mlm-file-template").find(".file").val(""),e(this).closest(".mlm-file-template").find(".name").val(""))}),e(document).on("click",".mlm-upload-image-btn",function(t){t.preventDefault();var o,l=e(this);(o=wp.media.frames.file_frame=wp.media({title:mlm_local_object.upload_image,library:{type:"image"},button:{text:mlm_local_object.choose},multiple:!1})).on("select",function(){var e=o.state().get("selection").first().toJSON();l.parent().find(".image_id").val(e.id),l.parent().find(".image").val(e.url),l.parent().find(".mlm-image-preview > img").attr("src",e.url),l.hasClass("dynamic-btn")&&l.removeClass("btn-light bg-white").addClass("btn-success")}),o.open()}),e(document).on("click",".mlm-upload-file-btn",function(t){t.preventDefault();var o,l=e(this);(o=wp.media.frames.file_frame=wp.media({title:mlm_local_object.upload_file,button:{text:mlm_local_object.choose},multiple:!1})).on("select",function(){var e=o.state().get("selection").first().toJSON();l.parent().find(".file").val(e.url),l.closest(".mlm-file-template").find(".name").val(mlm_local_object.dl_file),l.closest(".mlm-file-template").find(".file").val(e.url)}),o.open()}),e(document).on("click",".mlm-login-error",function(t){swal({title:mlm_local_object.error,text:mlm_local_object.login_to_dl,icon:"error",button:mlm_local_object.ok}),e('.mlm-login-form-wrapper [name="mlm_must_return"]').val("yes"),e('.mlm-register-form-wrapper [name="mlm_must_return"]').val("yes")}),e(document).on("click",".mlm-need-to-purchase-plan-btn",function(t){t.preventDefault(),swal({title:mlm_local_object.error,text:mlm_local_object.plan_to_dl,icon:"error",button:mlm_local_object.ok}),e('.mlm-login-form-wrapper [name="mlm_must_return"]').val("yes"),e('.mlm-register-form-wrapper [name="mlm_must_return"]').val("yes")}),e(document).on("click",'a[href="#mlm-add-to-cart"]',function(m){m.preventDefault(),toastr.clear();var a=e(this),n=a.text();if(a.hasClass("disabled"))return!1;0==a.data("id").length?toastr.error(mlm_local_object.invalid_id):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_add_to_cart",product_id:a.data("id"),product_sku:""},beforeSend:function(e){o(a)},complete:function(e){l(a,n)},success:function(o){t(mlm_local_object.product_added),e(".mlm-cart-btn").click(),o.error&o.product_url?window.location=o.product_url:("yes"==mlm_local_object.redirect&&setTimeout(function(){window.location=mlm_local_object.checkout},100),e(document.body).trigger("added_to_cart",[o.fragments,o.cart_hash,a]))},error:function(){t(mlm_local_object.no_response,"error")}})}),e(document).on("click",".single_add_to_cart_button",function(m){if(e(this).hasClass("disabled"))return!1;m.preventDefault();var a=e(this),n=a.text(),r=a.closest("form.cart"),c=a.val(),i=r.find("input[name=quantity]").val()||1,s=r.find("input[name=product_id]").val()||c,_=r.find("input[name=variation_id]").val()||0;return e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_add_to_cart",product_id:s,product_sku:"",quantity:i,variation_id:_},beforeSend:function(e){a.removeClass("added"),o(a)},complete:function(e){a.addClass("added"),l(a,n)},success:function(o){t(mlm_local_object.product_added),e(".mlm-cart-btn").click(),o.error&o.product_url?window.location=o.product_url:("yes"==mlm_local_object.redirect&&setTimeout(function(){window.location=mlm_local_object.checkout},100),e(document.body).trigger("added_to_cart",[o.fragments,o.cart_hash,a]))},error:function(){toastr.clear(),toastr.error(mlm_local_object.no_response)}}),!1}),e(document).on("change",'.mlm-rating-box input[type="radio"]',function(t){if(t.preventDefault(),$input=e(this),$input.closest(".mlm-rating-box").hasClass("loading"))return!1;e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_rating",rating:$input.val(),post_id:$input.closest(".mlm-rating-box").data("id"),security:$input.closest(".mlm-rating-box").data("verify")},beforeSend:function(e){$input.closest(".mlm-rating-box").addClass("loading")},complete:function(e){$input.closest(".mlm-rating-box").removeClass("loading")},success:function(t){1==t.submited?(swal({title:mlm_local_object.submitted,text:t.response,icon:"success",button:mlm_local_object.ok}),$input.closest(".mlm-rating-box").find('[itemprop="ratingValue"]').text(t.average),$input.closest(".mlm-rating-box").find('[itemprop="ratingCount"]').text(t.total)):swal({title:mlm_local_object.error,text:t.response,icon:"error",button:mlm_local_object.ok}),1==t.popup&&e("#mlm-login-register-popup").modal("show")},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("click",'a[href="#mlm-follow-btn"]',function(t){t.preventDefault();var o=e(this);if(o.hasClass("disabled"))return!1;e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_follow",vendor_id:o.data("vendor"),security:o.data("verify")},beforeSend:function(e){o.attr("disabled","disabled").addClass("disabled")},complete:function(e){o.removeAttr("disabled","disabled").removeClass("disabled")},success:function(t){1==t.submited?(swal({title:mlm_local_object.ok,text:t.response,icon:"success",button:mlm_local_object.ok}),"follow"==t.mode?o.removeClass("btn-primary").addClass("followed bg-white border text-dark").text(mlm_local_object.unfollow):o.removeClass("followed bg-white border text-dark").addClass("btn-primary").text(mlm_local_object.follow)):swal({title:mlm_local_object.error,text:t.response,icon:"error",button:mlm_local_object.ok}),1==t.popup&&e("#mlm-login-register-popup").modal("show")},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm-login-form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;"object"==typeof grecaptcha?(swal({title:mlm_local_object.get_token,text:mlm_local_object.we_token,icon:"info",button:mlm_local_object.ok}),grecaptcha.ready(function(){grecaptcha.execute(mlm_local_object.site_key,{action:"login"}).then(function(e){swal.close(),$form.find('[name="mlm_recaptcha"]').val(e),m($form)},function(e){console.log(e),swal.close(),swal({title:mlm_local_object.error,text:mlm_local_object.no_token,icon:"error",button:mlm_local_object.ok})})})):m($form)}),e(document).on("submit","#mlm_signup_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;"object"==typeof grecaptcha?(swal({title:mlm_local_object.get_token,text:mlm_local_object.we_token,icon:"info",button:mlm_local_object.ok}),grecaptcha.ready(function(){grecaptcha.execute(mlm_local_object.site_key,{action:"register"}).then(function(e){swal.close(),$form.find('[name="mlm_recaptcha"]').val(e),a($form)},function(e){console.log(e),swal.close(),swal({title:mlm_local_object.error,text:mlm_local_object.no_token,icon:"error",button:mlm_local_object.ok})})})):a($form)}),e(document).on("click","#mlm_lost_password_form .mlm-send-code-btn",function(t){t.preventDefault();var m=e(this),a=m.text(),n=m.closest("form");if(m.hasClass("disabled"))return!1;0==n.find('[name="mlm_login"]').val().length?swal({title:mlm_local_object.error,text:mlm_local_object.lum_req,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_lost_code",login:n.find('[name="mlm_login"]').val(),security:n.find(".mlm-submit-btn").data("verify")},beforeSend:function(e){o(m)},complete:function(e){l(m,a)},success:function(t){1==t.submited?(swal({title:mlm_local_object.ok,text:t.response,icon:"success",button:mlm_local_object.ok}),n.find(".d-none").each(function(){e(this).removeClass("d-none")})):swal({title:mlm_local_object.error,text:t.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_lost_password_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={code:$form.find('[name="mlm_code"]').val(),login:$form.find('[name="mlm_login"]').val()};0==o.login.length?swal({title:mlm_local_object.error,text:mlm_local_object.lum_req,icon:"error",button:mlm_local_object.ok}):0==o.code.length?swal({title:mlm_local_object.error,text:mlm_local_object.code_req,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_pass_code",user_data:o,security:$form.find(".mlm-submit-btn").data("verify")},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},1e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_new_password_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={login:$form.find('[name="mlm_login"]').val(),pass:$form.find('[name="mlm_pass"]').val(),repeat:$form.find('[name="mlm_repeat"]').val()};0==o.pass.length||0==o.repeat.length?swal({title:mlm_local_object.error,text:mlm_local_object.pass_req,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_new_pass",user_data:o,security:$form.find(".mlm-submit-btn").data("verify")},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.registered?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_profile_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={avatar:$form.find('[name="mlm_avatar"]').val(),cover:$form.find('[name="mlm_cover"]').val(),fname:$form.find('[name="mlm_fname"]').val(),lname:$form.find('[name="mlm_lname"]').val(),email:$form.find('[name="mlm_email"]').val(),mobile:$form.find('[name="mlm_mobile"]').val(),country_code:$form.find('[name="mlm_country_code"]').val(),state:$form.find('[name="mlm_state"]').val(),bio:$form.find('[name="mlm_bio"]').val(),twitter:$form.find('[name="mlm_twitter"]').val(),aparat:$form.find('[name="mlm_aparat"]').val(),instagram:$form.find('[name="mlm_instagram"]').val(),telegram:$form.find('[name="mlm_telegram"]').val(),youtube:$form.find('[name="mlm_youtube"]').val()};0==o.fname.length||0==o.lname.length||0==o.email.length||0==o.mobile.length||0==o.state.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_profile",user_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(t){1==t.submited?(swal({title:mlm_local_object.updated,text:t.response,icon:"success",button:mlm_local_object.ok}),t.avatar&&(e(".mlm-image-preview img.avatar").attr("src",t.avatar),e(".mlm-user-panel-widget img.avatar").attr("src",t.avatar))):swal({title:mlm_local_object.error,text:t.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("change",'#mlm_new_ticket_form [name="mlm_subject"]',function(t){var o=e(this).val();e(this).closest("form").find(".form-group").each(function(){e(this).hasClass("state-"+o)?e(this).slideDown(200).removeClass("gzl"):e(this).slideUp(100).addClass("gzl")})}),e(document).on("submit","#mlm_new_ticket_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={subject:$form.find('[name="mlm_subject"]').val(),unit:$form.find('[name="mlm_unit"]').val(),recipient:$form.find('[name="mlm_user"]').val(),post_id:$form.find('[name="mlm_user"] option:selected').data("post"),title:$form.find('[name="mlm_title"]').val(),content:n("mlm_content","mlm_content"),attaches:$form.find('[name="mlm_attaches[]"]').map(function(){return e(this).val()}).get()};0==o.subject.length?swal({title:mlm_local_object.error,text:mlm_local_object.tick_subject,icon:"error",button:mlm_local_object.ok}):1==o.subject&&0==o.recipient.length?swal({title:mlm_local_object.error,text:mlm_local_object.tick_product,icon:"error",button:mlm_local_object.ok}):2==o.subject&&0==o.unit.length?swal({title:mlm_local_object.error,text:mlm_local_object.tick_department,icon:"error",button:mlm_local_object.ok}):0==o.title.length||0==o.content.length?swal({title:mlm_local_object.error,text:mlm_local_object.tick_req,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_record_ticket",ticket_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),$form.find('[name="mlm_user"]').val(""),$form.find('[name="mlm_title"]').val(""),r("","mlm_content","mlm_content"),setTimeout(function(){window.location=e.redirect},1e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_reply_ticket_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={content:n("mlm_content","mlm_content"),status:$form.find('[name="mlm_status"]').val(),parent:$form.find('[name="mlm_parent"]').val(),attaches:$form.find('[name="mlm_attaches[]"]').map(function(){return e(this).val()}).get()};0==o.content.length?swal({title:mlm_local_object.error,text:mlm_local_object.tick_rep,icon:"error",button:mlm_local_object.ok}):0==o.parent.length?swal({title:mlm_local_object.error,text:mlm_local_object.invalid_ticket,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_reply_ticket",ticket_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){location.reload()},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_submit_post_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={title:$form.find('[name="mlm_title"]').val(),content:n("mlm_content","mlm_content"),thumb:$form.find('[name="mlm_thumb"]').val(),cats:$form.find('[name="mlm_cat"]').val(),tags:$form.find('[name="mlm_tag"]').val(),post_id:$form.find('[name="mlm_id"]').val()};0==o.title.length||0==o.content.length||0==o.cats.length||0==o.tags.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_submit_post",post_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_submit_product_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={title:$form.find('[name="mlm_title"]').val(),content:n("mlm_content","mlm_content"),thumb:$form.find('[name="mlm_thumb"]').val(),cats:$form.find('[name="mlm_cat"]').val(),tags:$form.find('[name="mlm_tag"]').val(),percent:$form.find('[name="mlm_percent"]').val(),price:$form.find('[name="mlm_price"]').val(),sale_price:$form.find('[name="mlm_sale_price"]').val(),button_text:$form.find('[name="mlm_button_text"]').val(),button_link:$form.find('[name="mlm_button_link"]').val(),button_2_text:$form.find('[name="mlm_button_2_text"]').val(),button_2_link:$form.find('[name="mlm_button_2_link"]').val(),post_id:$form.find('[name="mlm_id"]').val(),thumb_image:$form.find('[name="mlm_thumb_image"]').val(),image_one:$form.find('[name="mlm_image_one"]').val(),image_two:$form.find('[name="mlm_image_two"]').val(),stock:$form.find('[name="mlm_stock"]').val()};0!==e("#mlm-custom-fields-wrap").length?e("#mlm-custom-fields-wrap").find(":input").each(function(){var t=e(this);o[t.attr("name")]=e.trim(t.val())}):(o.type=$form.find('[name="mlm_type"]').val(),o.count=$form.find('[name="mlm_count"]').val(),o.part=$form.find('[name="mlm_part"]').val(),o.author=$form.find('[name="mlm_author"]').val(),o.size=$form.find('[name="mlm_size"]').val(),o.format=$form.find('[name="mlm_format"]').val(),o.language=$form.find('[name="mlm_language"]').val(),o.step=$form.find('[name="mlm_step"]').val()),$form.find(".mlm-upload-group :input").each(function(){var t=e(this);o[t.attr("name")]=e.trim(t.val())}),0==o.title.length||0==o.content.length||0==o.cats.length||0==o.tags.length||0==o.price.length||0==o.percent.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_submit_product",post_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("click","#mlm_submit_product_form .mlm-save-draft-btn",function(t){if(t.preventDefault(),$form=e(this).closest("form"),$form.hasClass("loading"))return!1;var o={title:$form.find('[name="mlm_title"]').val(),content:n("mlm_content","mlm_content"),thumb:$form.find('[name="mlm_thumb"]').val(),cats:$form.find('[name="mlm_cat"]').val(),tags:$form.find('[name="mlm_tag"]').val(),percent:$form.find('[name="mlm_percent"]').val(),price:$form.find('[name="mlm_price"]').val(),sale_price:$form.find('[name="mlm_sale_price"]').val(),button_text:$form.find('[name="mlm_button_text"]').val(),button_link:$form.find('[name="mlm_button_link"]').val(),button_2_text:$form.find('[name="mlm_button_2_text"]').val(),button_2_link:$form.find('[name="mlm_button_2_link"]').val(),post_id:$form.find('[name="mlm_id"]').val(),thumb_image:$form.find('[name="mlm_thumb_image"]').val(),image_one:$form.find('[name="mlm_image_one"]').val(),image_two:$form.find('[name="mlm_image_two"]').val(),stock:$form.find('[name="mlm_stock"]').val()};0!==e("#mlm-custom-fields-wrap").length?e("#mlm-custom-fields-wrap").find(":input").each(function(){var t=e(this);o[t.attr("name")]=e.trim(t.val())}):(o.type=$form.find('[name="mlm_type"]').val(),o.count=$form.find('[name="mlm_count"]').val(),o.part=$form.find('[name="mlm_part"]').val(),o.author=$form.find('[name="mlm_author"]').val(),o.size=$form.find('[name="mlm_size"]').val(),o.format=$form.find('[name="mlm_format"]').val(),o.language=$form.find('[name="mlm_language"]').val(),o.step=$form.find('[name="mlm_step"]').val()),$form.find(".mlm-upload-group :input").each(function(){var t=e(this);o[t.attr("name")]=e.trim(t.val())}),0==o.title.length?swal({title:mlm_local_object.error,text:mlm_local_object.draft_title,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_draft_product",post_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),0!=e.post_id&&$form.find('[name="mlm_id"]').val(e.post_id)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_submit_physical_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={title:$form.find('[name="mlm_title"]').val(),content:n("mlm_content","mlm_content"),thumb:$form.find('[name="mlm_thumb"]').val(),cats:$form.find('[name="mlm_cat"]').val(),tags:$form.find('[name="mlm_tag"]').val(),percent:$form.find('[name="mlm_percent"]').val(),price:$form.find('[name="mlm_price"]').val(),sale_price:$form.find('[name="mlm_sale_price"]').val(),button_text:$form.find('[name="mlm_button_text"]').val(),button_link:$form.find('[name="mlm_button_link"]').val(),button_2_text:$form.find('[name="mlm_button_2_text"]').val(),button_2_link:$form.find('[name="mlm_button_2_link"]').val(),post_id:$form.find('[name="mlm_id"]').val(),weight:$form.find('[name="mlm_weight"]').val(),quantity:$form.find('[name="mlm_quantity"]').val(),thumb_image:$form.find('[name="mlm_thumb_image"]').val(),image_one:$form.find('[name="mlm_image_one"]').val(),image_two:$form.find('[name="mlm_image_two"]').val(),stock:$form.find('[name="mlm_stock"]').val()};0!==e("#mlm-custom-fields-wrap").length&&e("#mlm-custom-fields-wrap").find(":input").each(function(){var t=e(this);o[t.attr("name")]=e.trim(t.val())}),0==o.title.length||0==o.content.length||0==o.cats.length||0==o.tags.length||0==o.price.length||0==o.percent.length||0==o.weight.length||0==o.quantity.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_submit_physical",post_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("click","#mlm_submit_physical_form .mlm-save-draft-btn",function(t){if(t.preventDefault(),$form=e(this).closest("form"),$form.hasClass("loading"))return!1;var o={title:$form.find('[name="mlm_title"]').val(),content:n("mlm_content","mlm_content"),thumb:$form.find('[name="mlm_thumb"]').val(),cats:$form.find('[name="mlm_cat"]').val(),tags:$form.find('[name="mlm_tag"]').val(),percent:$form.find('[name="mlm_percent"]').val(),price:$form.find('[name="mlm_price"]').val(),sale_price:$form.find('[name="mlm_sale_price"]').val(),button_text:$form.find('[name="mlm_button_text"]').val(),button_link:$form.find('[name="mlm_button_link"]').val(),button_2_text:$form.find('[name="mlm_button_2_text"]').val(),button_2_link:$form.find('[name="mlm_button_2_link"]').val(),post_id:$form.find('[name="mlm_id"]').val(),weight:$form.find('[name="mlm_weight"]').val(),quantity:$form.find('[name="mlm_quantity"]').val(),thumb_image:$form.find('[name="mlm_thumb_image"]').val(),image_one:$form.find('[name="mlm_image_one"]').val(),image_two:$form.find('[name="mlm_image_two"]').val(),stock:$form.find('[name="mlm_stock"]').val()};0!==e("#mlm-custom-fields-wrap").length&&e("#mlm-custom-fields-wrap").find(":input").each(function(){var t=e(this);o[t.attr("name")]=e.trim(t.val())}),0==o.title.length?swal({title:mlm_local_object.error,text:mlm_local_object.draft_title,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_draft_physical",post_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),0!=e.post_id&&$form.find('[name="mlm_id"]').val(e.post_id)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_submit_course_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={title:$form.find('[name="mlm_title"]').val(),content:n("mlm_content","mlm_content"),thumb:$form.find('[name="mlm_thumb"]').val(),cats:$form.find('[name="mlm_cat"]').val(),tags:$form.find('[name="mlm_tag"]').val(),percent:$form.find('[name="mlm_percent"]').val(),price:$form.find('[name="mlm_price"]').val(),sale_price:$form.find('[name="mlm_sale_price"]').val(),button_text:$form.find('[name="mlm_button_text"]').val(),button_link:$form.find('[name="mlm_button_link"]').val(),button_2_text:$form.find('[name="mlm_button_2_text"]').val(),button_2_link:$form.find('[name="mlm_button_2_link"]').val(),teacher_image:$form.find('[name="mlm_teacher_image"]').val(),teacher_name:$form.find('[name="mlm_teacher_name"]').val(),course_fill:$form.find('[name="mlm_course_fill"]').val(),teacher_bio:$form.find('[name="mlm_teacher_bio"]').val(),course_video:$form.find('[name="mlm_course_video"]').val(),post_id:$form.find('[name="mlm_id"]').val(),thumb_image:$form.find('[name="mlm_thumb_image"]').val(),image_one:$form.find('[name="mlm_image_one"]').val(),image_two:$form.find('[name="mlm_image_two"]').val(),stock:$form.find('[name="mlm_stock"]').val()};0!==e("#mlm-custom-fields-wrap").length?e("#mlm-custom-fields-wrap").find(":input").each(function(){var t=e(this);o[t.attr("name")]=e.trim(t.val())}):(o.type=$form.find('[name="mlm_type"]').val(),o.count=$form.find('[name="mlm_count"]').val(),o.part=$form.find('[name="mlm_part"]').val(),o.author=$form.find('[name="mlm_author"]').val(),o.size=$form.find('[name="mlm_size"]').val(),o.format=$form.find('[name="mlm_format"]').val(),o.language=$form.find('[name="mlm_language"]').val(),o.step=$form.find('[name="mlm_step"]').val()),0==o.title.length||0==o.content.length||0==o.cats.length||0==o.tags.length||0==o.price.length||0==o.percent.length||0==o.teacher_name.length||0==o.course_fill.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_submit_course",post_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("click","#mlm_submit_course_form .mlm-save-draft-btn",function(t){if(t.preventDefault(),$form=e(this).closest("form"),$form.hasClass("loading"))return!1;var o={title:$form.find('[name="mlm_title"]').val(),content:n("mlm_content","mlm_content"),thumb:$form.find('[name="mlm_thumb"]').val(),cats:$form.find('[name="mlm_cat"]').val(),tags:$form.find('[name="mlm_tag"]').val(),percent:$form.find('[name="mlm_percent"]').val(),price:$form.find('[name="mlm_price"]').val(),sale_price:$form.find('[name="mlm_sale_price"]').val(),button_text:$form.find('[name="mlm_button_text"]').val(),button_link:$form.find('[name="mlm_button_link"]').val(),button_2_text:$form.find('[name="mlm_button_2_text"]').val(),button_2_link:$form.find('[name="mlm_button_2_link"]').val(),teacher_image:$form.find('[name="mlm_teacher_image"]').val(),teacher_name:$form.find('[name="mlm_teacher_name"]').val(),course_fill:$form.find('[name="mlm_course_fill"]').val(),teacher_bio:$form.find('[name="mlm_teacher_bio"]').val(),course_video:$form.find('[name="mlm_course_video"]').val(),post_id:$form.find('[name="mlm_id"]').val(),thumb_image:$form.find('[name="mlm_thumb_image"]').val(),image_one:$form.find('[name="mlm_image_one"]').val(),image_two:$form.find('[name="mlm_image_two"]').val(),stock:$form.find('[name="mlm_stock"]').val()};0!==e("#mlm-custom-fields-wrap").length?e("#mlm-custom-fields-wrap").find(":input").each(function(){var t=e(this);o[t.attr("name")]=e.trim(t.val())}):(o.type=$form.find('[name="mlm_type"]').val(),o.count=$form.find('[name="mlm_count"]').val(),o.part=$form.find('[name="mlm_part"]').val(),o.author=$form.find('[name="mlm_author"]').val(),o.size=$form.find('[name="mlm_size"]').val(),o.format=$form.find('[name="mlm_format"]').val(),o.language=$form.find('[name="mlm_language"]').val(),o.step=$form.find('[name="mlm_step"]').val()),0==o.title.length?swal({title:mlm_local_object.error,text:mlm_local_object.draft_title,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_draft_course",post_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),0!=e.post_id&&$form.find('[name="mlm_id"]').val(e.post_id)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_submit_coupon_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={code:$form.find('[name="mlm_code"]').val(),amount:$form.find('[name="mlm_amount"]').val(),type:$form.find('[name="mlm_type"]').val(),expire:$form.find('[name="mlm_expire"]').val(),products:$form.find('[name="mlm_products"]').val(),post_id:$form.find('[name="mlm_id"]').val()};0==o.code.length||0==o.amount.length||0==o.products.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_submit_coupon",post_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("click",'a[href="#mlm-delete-discount"]',function(t){t.preventDefault();var m=e(this),a=m.text();if(m.hasClass("disabled"))return!1;swal({title:mlm_local_object.you_sure,text:mlm_local_object.delete_code_txt,icon:"warning",buttons:{cancel:mlm_local_object.cancel,catch:{text:mlm_local_object.delete_code,value:"delete"}},dangerMode:!0}).then(t=>{switch(t){case"delete":e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_delete_coupon",post_id:m.data("id"),security:m.data("verify")},beforeSend:function(e){o(m)},complete:function(e){l(m,a)},success:function(e){1==e.submited?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){m.closest("tr").slideUp(200).remove()},1e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}})}),e(document).on("submit","#mlm_change_pass_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={pass:$form.find('[name="mlm_pass"]').val(),new:$form.find('[name="mlm_new_pass"]').val()};0==o.pass.length||0==o.new.length?swal({title:mlm_local_object.error,text:mlm_local_object.change_pass,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_change_pass",user_data:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.registered?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("click",'a[href="#mlm-bookmark-post"]',function(t){t.preventDefault();var m=e(this),a=m.text();if(m.hasClass("disabled"))return!1;0==m.data("id").length||0==m.data("verify").length?swal({title:mlm_local_object.error,text:mlm_local_object.invalid_id,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_bookmark",post_id:m.data("id"),security:m.data("verify")},beforeSend:function(e){o(m)},complete:function(e){l(m,a)},success:function(e){1==e.submited?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){"book"==e.action?m.removeClass("btn-success").addClass("btn-danger").text(mlm_local_object.unbookmark):(m.removeClass("btn-danger").addClass("btn-success").text(mlm_local_object.bookmark),"yes"==m.attr("data-remove")&&m.closest("tr").remove())},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_increase_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;0==$form.find('[name="mlm_amount"]').val().length?swal({title:mlm_local_object.error,text:mlm_local_object.amount_req,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_increase_balance",amount:$form.find('[name="mlm_amount"]').val(),security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_withdraw_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={amount:$form.find('[name="mlm_amount"]').val(),card:$form.find('[name="mlm_card"]').val(),sheba:$form.find('[name="mlm_sheba"]').val(),owner:$form.find('[name="mlm_owner"]').val()};0==o.amount.length||0==o.card.length||0==o.sheba.length||0==o.owner.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_withdrawal",user_input:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){location.reload()},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_submit_parent_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={parent:$form.find('[name="mlm_parent"]').val()};0==o.parent.length?swal({title:mlm_local_object.error,text:mlm_local_object.reagent_req,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_parent",user_input:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){location.reload()},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_upgrade_account_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={gender:$form.find('[name="mlm_gender"]:checked').val(),fname:$form.find('[name="mlm_fname"]').val(),lname:$form.find('[name="mlm_lname"]').val(),birth:$form.find('[name="mlm_birth"]').val(),melli:$form.find('[name="mlm_melli"]').val(),address:$form.find('[name="mlm_address"]').val(),phone:$form.find('[name="mlm_phone"]').val(),postal:$form.find('[name="mlm_postal"]').val(),role:$form.find('[name="mlm_role"]').val()};0==o.gender.length||0==o.fname.length||0==o.lname.length||0==o.birth.length||0==o.melli.length||0==o.address.length||0==o.phone.length||0==o.postal.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_upgrade_one",user_input:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_upload_account_form",function(t){if(t.preventDefault(),$form=e(this),$form.hasClass("loading"))return!1;var o={melli:$form.find('[name="mlm_melli_file"]').val(),shena:$form.find('[name="mlm_shena_file"]').val()};0==o.melli.length||0==o.shena.length?swal({title:mlm_local_object.error,text:mlm_local_object.upgrade_req,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_upgrade_two",user_input:o,security:$form.find('[name="mlm_security"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.submitted,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){window.location=e.redirect},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),"object"==typeof e.datepicker&&e(".mlm-datepicker").datepicker({dateFormat:"yy-mm-dd",maxDate:"today",changeMonth:!0,changeYear:!0}),"object"==typeof e.datepicker&&e(".mlm-expire").datepicker({dateFormat:"yy-mm-dd",minDate:"today",changeMonth:!1,changeYear:!1}),e(document).on("change","#commentform #comment",function(t){"object"==typeof grecaptcha&&grecaptcha.ready(function(){grecaptcha.execute(mlm_local_object.site_key,{action:"comment"}).then(function(t){e("#commentform").find('[name="mlm_recaptcha"]').val(t)},function(e){console.log(e)})})}),e('form.mlm-ajax-search [name="s"]').attr("autocomplete","off"),e('form.mlm-ajax-search [name="s"]').on("keyup paste",function(t){var o,l,m;o=e(this).closest("form"),l=o.find(".mlm-search-results"),(m=o.find('[name="s"]').val()).length<3?l.removeClass("open").slideUp(200):(l.empty().append('<div class="d-flex align-items-center p-2"><div class="spinner-border spinner-border-sm ml-2 text-primary" role="status"></div><span class="font-12 tet-secondary bold-600">'+mlm_local_object.searching+"</span></div>").addClass("open").slideDown(200),e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_search",query:m,security:o.find('[name="s"]').data("verify")},beforeSend:function(e){o.addClass("searching")},complete:function(e){o.removeClass("searching")},success:function(t){l.empty().append(t.html),e(".slimscroll").slimScroll({position:"left",height:"100%",alwaysVisible:!0})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}}))}),e(document).mouseup(function(t){var o=e("form.mlm-ajax-search");o.is(t.target)||0!==o.has(t.target).length||e(document).find(".mlm-search-results").each(function(){e(this).hasClass("open")&&e(this).removeClass("open").slideUp(200)})}),e(document).on("click",'a[href="#mlm-purchase-plan"]',function(t){t.preventDefault();var m=e(this),a=m.text();if(m.hasClass("disabled"))return!1;swal({title:mlm_local_object.warning,text:mlm_local_object.charge_for_plan,icon:"warning",buttons:{defeat:{text:mlm_local_object.cancel_charge,value:"defeat"},catch:{text:mlm_local_object.continue_shopping,value:"buy"}},dangerMode:!0}).then(t=>{switch(t){case"buy":e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_purchase_plan",plan_id:m.data("id"),security:m.data("verify")},beforeSend:function(e){o(m)},complete:function(e){l(m,a)},success:function(e){1==e.submited?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){e.redirect.length>2?window.location=e.redirect:location.reload()},2e3)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}});break;case"defeat":window.location=mlm_local_object.wallet_url}})}),e(".mlm-countdown").each(function(){var t=new Date(e(this).data("time"));e(this).countdown({until:t}),e(this).closest(".counter-wrapper").removeClass("d-none")}),e(document).on("click",'a[href="#mlm-scroll-to-course"]',function(t){t.preventDefault(),e("html, body").animate({scrollTop:e("#mlm-scroll-to-course").offset().top},2e3)}),e(document).on("click",'a[href="#mlm-lesson-modal"]',function(t){t.preventDefault(),e('form[name="mlm_new_lesson_form"]').find('[name="mlm_chapter"]').val(e(this).data("chapter")),e("#mlm_new_lesson_modal").modal("show")}),e(document).on("hidden.bs.modal","#mlm_new_chapter_modal",function(t){var o=e('form[name="mlm_new_chapter_form"]');o.find(".mlm-image-preview img").attr("src",o.find(".mlm-image-preview").data("default")),o.find('[name="mlm_image"]').val(""),o.find('[name="mlm_number"]').val(""),o.find('[name="mlm_title"]').val(""),o.find('[name="mlm_desc"]').val(""),o.find('[name="mlm_id"]').val("")}),e(document).on("hidden.bs.modal","#mlm_new_lesson_modal",function(t){var o=e('form[name="mlm_new_lesson_form"]');o.find('[name="mlm_number"]').val(""),o.find('[name="mlm_title"]').val(""),o.find('[name="mlm_desc"]').val(""),o.find('[name="mlm_status"]').val(""),o.find('[name="mlm_chapter"]').val(""),o.find('[name="mlm_id"]').val(""),r("","mlm_content","mlm_content"),o.find(".mlm-file-template:not(:first-child)").remove(),o.find(".mlm-file-template:first-child").find(".file").val(""),o.find(".mlm-file-template:first-child").find(".name").val("")}),e(document).on("click",'a[href="#mlm-edit-chapter"]',function(t){t.preventDefault();var o=e(this).closest(".chapter-item"),l=e('form[name="mlm_new_chapter_form"]');l.find(".mlm-image-preview img").attr("src",o.find(".chapter-image").attr("src")),l.find('[name="mlm_image"]').val(o.data("image")),l.find('[name="mlm_number"]').val(o.data("priority")),l.find('[name="mlm_title"]').val(o.find(".chapter-title").text()),l.find('[name="mlm_desc"]').val(o.find(".chapter-text").text()),l.find('[name="mlm_id"]').val(o.data("id")),e("#mlm_new_chapter_modal").modal("show")}),e(document).on("click",'a[href="#mlm-edit-lesson"]',function(t){t.preventDefault();var o=e(this).closest(".lesson-item"),l=e('form[name="mlm_new_lesson_form"]');l.find('[name="mlm_number"]').val(o.data("priority")),l.find('[name="mlm_title"]').val(o.find(".lesson-title").text()),l.find('[name="mlm_desc"]').val(o.find(".lesson-text").text()),l.find('[name="mlm_status"]').val(o.data("status")),l.find('[name="mlm_chapter"]').val(o.data("chapter")),l.find('[name="mlm_id"]').val(o.data("id"));let m=e.parseJSON(o.find(".lesson-links").val());m.length&&(e.each(m,function(t,o){let l=e(".mlm-file-template").last();l.find("input.file").val(o.file),l.find("input.name").val(o.name);let m=l.clone();m.find("input.file").val(""),m.find("input.name").val(""),m.find("[name]").each(function(){this.name=this.name.replace(/\[(\d+)\]/,function(e,t){return"["+(parseInt(t,10)+1)+"]"})}),l.after(m)}),e(".mlm-file-template").last().remove()),e("#mlm_new_lesson_modal").modal("show"),e('form[name="mlm_new_lesson_form"]').addClass("loading"),setTimeout(function(){r(o.find(".lesson-content").text(),"mlm_content","mlm_content"),e('form[name="mlm_new_lesson_form"]').removeClass("loading")},2e3)}),e(document).on("submit",'form[name="mlm_new_chapter_form"]',function(t){if(t.preventDefault(),$form=e(this),!$form.hasClass("loading")){var o={image:$form.find('[name="mlm_image"]').val(),number:$form.find('[name="mlm_number"]').val(),title:$form.find('[name="mlm_title"]').val(),desc:$form.find('[name="mlm_desc"]').val(),chapter:$form.find('[name="mlm_id"]').val(),post_id:$form.find('[name="mlm_post"]').val()};0==o.number.length||0==o.title.length||0==o.desc.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_save_chapter",form_data:o,security:$form.find('[name="mlm_nonce"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){location.reload()},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}}),e(document).on("click",'a[href="#mlm-delete-chapter"]',function(t){t.preventDefault();var m=e(this),a=m.text(),n=m.closest(".chapter-item");if(m.hasClass("disabled"))return!1;swal({title:mlm_local_object.you_sure,text:mlm_local_object.delete_article_txt,icon:"warning",buttons:{cancel:mlm_local_object.cancel,catch:{text:mlm_local_object.delete_article,value:"delete"}},dangerMode:!0}).then(t=>{switch(t){case"delete":0==n.data("id").length?swal({title:mlm_local_object.error,text:mlm_local_object.invalid_article,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_delete_chapter",chapter_id:n.data("id"),security:m.data("verify")},beforeSend:function(e){o(m)},complete:function(e){l(m,a)},success:function(e){1==e.deleted?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){location.reload()},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}})}),e(document).on("submit",'form[name="mlm_new_lesson_form"]',function(t){if(t.preventDefault(),$form=e(this),!$form.hasClass("loading")){var o={content:n("mlm_content","mlm_content"),number:$form.find('[name="mlm_number"]').val(),title:$form.find('[name="mlm_title"]').val(),desc:$form.find('[name="mlm_desc"]').val(),status:$form.find('[name="mlm_status"]').val(),lesson:$form.find('[name="mlm_id"]').val(),chapter:$form.find('[name="mlm_chapter"]').val(),post_id:$form.find('[name="mlm_post"]').val()};$form.find(".mlm-upload-group :input").each(function(){var t=e(this);o[t.attr("name")]=e.trim(t.val())}),0==o.number.length||0==o.title.length||0==o.desc.length||0==o.status.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_save_lesson",form_data:o,security:$form.find('[name="mlm_nonce"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){location.reload()},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}}),e(document).on("click",'a[href="#mlm-delete-lesson"]',function(t){t.preventDefault();var m=e(this),a=m.text(),n=m.closest(".lesson-item");if(m.hasClass("disabled"))return!1;swal({title:mlm_local_object.you_sure,text:mlm_local_object.delete_lesson_txt,icon:"warning",buttons:{cancel:mlm_local_object.cancel,catch:{text:mlm_local_object.delete_lesson,value:"delete"}},dangerMode:!0}).then(t=>{switch(t){case"delete":0==n.data("id").length?swal({title:mlm_local_object.error,text:mlm_local_object.invalid_lesson,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_delete_lesson",lesson_id:n.data("id"),security:m.data("verify")},beforeSend:function(e){o(m)},complete:function(e){l(m,a)},success:function(e){1==e.deleted?(swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){location.reload()},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}})}),e(document).on("change",".mlm-ftp-upload-holder input.upload-toggle",function(t){var o=e(this),l=new FormData;if(e(".mlm-ftp-upload-wrap").hasClass("uploading"))return!1;l.append("file",o.prop("files")[0]),l.append("action","mlm_upload"),l.append("security",o.attr("data-verify")),e.ajax({xhr:function(){var t=new window.XMLHttpRequest;return t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var o=t.loaded/t.total;o=parseInt(100*o),e(".mlm-ftp-upload-wrap").find(".progress-bar").css("width",o+"%")}},!1),t},type:"POST",dataType:"json",enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,url:mlm_local_object.ajax_url,data:l,beforeSend:function(t){e(".mlm-ftp-upload-wrap").addClass("uploading")},complete:function(t){e(".mlm-ftp-upload-wrap").removeClass("uploading")},success:function(t){1==t.uploaded?(swal({title:mlm_local_object.ok,text:t.response,icon:"success",button:mlm_local_object.ok}),e(".mlm-ftp-upload-wrap").find(".progress-bar").css("width","0%"),o.val(""),o.closest(".mlm-file-template").find(".name").val(mlm_local_object.dl_file),o.closest(".mlm-file-template").find(".file").val(t.url)):swal({title:mlm_local_object.error,text:t.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("click","#app-toggle-search-menu",function(t){t.preventDefault(),e(".app-search-page-wrapper").toggleClass("open")}),e(document).on("click",function(t){0===e(t.target).closest(".app-search-page-wrapper").length&&"app-toggle-search-menu"!=e(t.target).attr("id")&&e(".app-search-page-wrapper").removeClass("open")}),e(document).on("change",'.mlm-search-page-header input[type="radio"]',function(t){e('form[name="mlm-advanced-search-form"]').submit()}),e(document).on("change",'.mlm-filters-widget input[type="checkbox"]',function(t){e('form[name="mlm-advanced-search-form"]').submit()}),e(document).on("change",".mlm-filters-widget select",function(t){e('form[name="mlm-advanced-search-form"]').submit()}),e(document).on("click",".mlm-filters-widget .category-item .toggle",function(t){t.preventDefault();var o=e(this).closest(".category-item");o.hasClass("open")?(e(this).text("+"),o.removeClass("open")):(e(this).text("-"),o.addClass("open"))}),e(document).on("click",".mlm-like-comment",function(t){t.preventDefault(),toastr.clear();var o=e(this),l=o.closest(".mlm-interaction");if(o.hasClass("loading"))return!1;e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_like_comment",form_data:{comment_id:o.data("id"),reaction:o.data("type")},security:o.data("verify")},beforeSend:function(e){o.addClass("loading")},complete:function(e){o.removeClass("loading")},success:function(e){toastr.clear(),1==e.submited?(toastr.success(e.response),l.find('[data-type="like"]').text(e.likes),l.find('[data-type="dislike"]').text(e.dislikes)):toastr.error(e.response)},error:function(){toastr.clear(),toastr.error(mlm_local_object.no_response)}})}),e(document).on("click","#mlm_verify_mobile_form .send-code-btn",function(t){t.preventDefault();var o=e(this),l=e(this).closest("form");if(o.hasClass("disabled"))return!1;var m=l.find('[name="mobile"]').val();0==m.length?swal({title:mlm_local_object.error,text:mlm_local_object.mobile_required,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_send_mobile_code",mobile:m,security:l.find('input[name="nonce"]').val()},beforeSend:function(e){o.attr("disabled","disabled").addClass("disabled")},complete:function(e){o.removeAttr("disabled","disabled").removeClass("disabled")},success:function(e){1==e.submited?swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("click","#mlm_verify_email_form .send-code-btn",function(t){t.preventDefault();var o=e(this),l=e(this).closest("form");if(o.hasClass("disabled"))return!1;var m=l.find('[name="email"]').val();0==m.length?swal({title:mlm_local_object.error,text:mlm_local_object.email_required,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_send_email_code",email:m,security:l.find('input[name="nonce"]').val()},beforeSend:function(e){o.attr("disabled","disabled").addClass("disabled")},complete:function(e){o.removeAttr("disabled","disabled").removeClass("disabled")},success:function(e){1==e.submited?swal({title:mlm_local_object.ok,text:e.response,icon:"success",button:mlm_local_object.ok}):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("submit","#mlm_verify_mobile_form",function(t){if(t.preventDefault(),$form=e(this),!$form.hasClass("loading")){var o=$form.find('[name="code"]').val(),l=$form.find('[name="mobile"]').val();0==o.length||0==l.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_verify_mobile",mobile:l,code:o,security:$form.find('input[name="nonce"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.saved,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){location.reload()},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}}),e(document).on("submit","#mlm_verify_email_form",function(t){if(t.preventDefault(),$form=e(this),!$form.hasClass("loading")){var o=$form.find('[name="code"]').val(),l=$form.find('[name="email"]').val();0==o.length||0==l.length?swal({title:mlm_local_object.error,text:mlm_local_object.marked_fields,icon:"error",button:mlm_local_object.ok}):e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_verify_email",email:l,code:o,security:$form.find('input[name="nonce"]').val()},beforeSend:function(e){$form.addClass("loading")},complete:function(e){$form.removeClass("loading")},success:function(e){1==e.submited?(swal({title:mlm_local_object.saved,text:e.response,icon:"success",button:mlm_local_object.ok}),setTimeout(function(){location.reload()},500)):swal({title:mlm_local_object.error,text:e.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}}),e(document).on("change",".mlm-attach-field-wrap input.upload-toggle",function(t){var o=e(this),l=new FormData;if(e(".mlm-attach-upload-progress").hasClass("uploading"))return!1;l.append("file",o.prop("files")[0]),l.append("action","mlm_attach"),l.append("security",o.attr("data-verify")),e.ajax({xhr:function(){var t=new window.XMLHttpRequest;return t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var o=t.loaded/t.total;o=parseInt(100*o),e(".mlm-attach-upload-progress").find(".progress-bar").css("width",o+"%")}},!1),t},type:"POST",dataType:"json",enctype:"multipart/form-data",processData:!1,contentType:!1,cache:!1,url:mlm_local_object.ajax_url,data:l,beforeSend:function(t){e(".mlm-attach-upload-progress").addClass("uploading")},complete:function(t){e(".mlm-attach-upload-progress").removeClass("uploading")},success:function(t){if(1==t.uploaded){e(".mlm-attach-upload-progress").find(".progress-bar").css("width","0%"),o.val("");var l='<a href="#mlm-delete-attach-image"><img src="'+t.url+'" alt="image" /><span class="fas">X</span><input type="hidden" name="mlm_attaches[]" value="'+t.url+'" /></a>';e(".ticket-attaches-placeholder").append(l)}else swal({title:mlm_local_object.error,text:t.response,icon:"error",button:mlm_local_object.ok})},error:function(){swal({title:mlm_local_object.error,text:mlm_local_object.no_response,icon:"error",button:mlm_local_object.ok})}})}),e(document).on("click",'a[href="#mlm-delete-attach-image"]',function(t){t.preventDefault(),e(this).remove()}),e(document).on("click",".app-notification .close-notification-btn",function(t){t.preventDefault(),e(".app-notification").addClass("d-none"),e("body").addClass("nnf"),e.ajax({type:"POST",dataType:"json",url:mlm_local_object.ajax_url,data:{action:"mlm_hide_notif"},beforeSend:function(e){},complete:function(e){},success:function(e){},error:function(){}})})});